<template>
  <!-- <require from="resources/attributes/tooltip"></require> -->
  <require from="resources/elements/toolbar"></require>

  <div class="container">
    <div class="row">
      <div class="col-sm">
        <span class="listHeader">${listParams.listHeader}</span>
      </div>
      <div class="col-sm">
        
      </div>
      <div class="col-sm">
        <toolbar class="toolbar" toolbar.bind="toolbar"></toolbar>
      </div>
     </div>


    <div if.bind="listParams.filterParams.filterOn">
      <form class="form-inline pull-right">
        <label class="control-label" style="margin-right:5px">${listParams.filterParams.filterOnLabel}</label>
          <input class="form-control" type="text" placeholder="Filter"
                  value.bind="listParams.filterString  & debounce:850" input.trigger="filterChanged($event.target.value)"/>
      </form>
    </div>


      <table class="table table-striped">
          <tr>
            <template repeat.for="col of columns">
              <th class="${col.className} ${col.alignment}" click.delegate="setSortOrder(col.propertyName, col.defaultSortOrder)">
                ${col.header}
                </th>
            </template>
              <th>Actions</th>
          </tr>
          <tr repeat.for="item of items">
            <template repeat.for="col of columns">
              <td class="${col.alignment}">
                ${col.value(item)}
              </td>
            </template>
            <td>
              <template repeat.for="action of actions">
                <a tooltip="title.bind:action.tooltip; placement:top"
                   click.delegate="action.action(item)">
                  <span class="${action.className ? action.className : ''} ${action.glyph}"></span>
                </a>
              </template>
            </td>

        </tr>
      </table >
  </div >
  <i class="busySpinner fa fa-spinner fa-spin fa-2x" if.bind="showSpinner || router.isNavigating"></i>
</template >
